{% if pending_request %}
    {% for reservation in pending_request %}
    <li class="pending-item" data-id="{{ reservation.id }}">

      <div class="pending-info">

        {# USER NAME FIRST #}
        <div class="meta-user">
          <span class="user-name">{{ reservation.userborrower.full_name|default:"Unknown" }}</span>
          <span class="dot">â€¢</span>

          {# ðŸ”¥ STATUS NOW HAS CORRECT CLASS #}
          <span class="status {{ reservation.status|lower }}">
            {{ reservation.status|capfirst }}
          </span>
        </div>

        {# ITEM DETAILS #}
        {% with first_item=reservation.items.all.0 %}
          {% if first_item %}
            <div class="item-name">
                {{ first_item.item.name }}
                {% if reservation.items.count > 1 %}
                    <span class="more-items">(+{{ reservation.items.count|add:"-1" }} more)</span>
                {% endif %}
            </div>
          {% else %}
            <div class="item-name no-items">No items found</div>
          {% endif %}
        {% endwith %}

      </div>

      {# PRIORITY BADGE #}
      {% if reservation.priority == "High" %}
        <div class="priority-badge high">High</div>
      {% else %}
        <div class="priority-badge low">Low</div>
      {% endif %}

    </li>
    {% endfor %}
{% else %}
<li class="pending-empty">No pending requests</li>
{% endif %}


<style>

.pending-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #ffffffaa;
    border-radius: 12px;
    padding: 14px;
    margin-bottom: 12px;
    border-left: 5px solid #4FC3F7;
}

/* User name */
.user-name {
    font-size: 15px;
    font-weight: 700;
    color: #0D47A1;
}

/* Item */
.item-name {
    font-size: 14px;
    color: #000;
    font-weight: 600;
}

/* ðŸ”¥ Base status styling */
.status {
    font-size: 13px;
    font-weight: 600;
}

/* ðŸŽ¨ Individual status colors */
.status.pending {
    color: #FFA500; /* orange */
}

.status.approved {
    color: #4CAF50; /* green */
}

.status.declined {
    color: #D32F2F; /* red */
}

/* Priority badges */
.priority-badge {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 700;
    color: #fff;
}

.priority-badge.high {
    background-color: #FFA500;
}

.priority-badge.low {
    background-color: #4FC3F7;
}

</style>
